<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Crane 2D</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>

<body>
    <div id="app" tabindex="0" ref="app" @keydown.left="moveArmLeft" @keydown.right="moveArmRight"
        @keydown.up="pullCable" @keydown.down="releaseCable">
        Arm {{armRotation}}
        Cable {{cableLength}}mStarted {{mStarted}}
        mWon {{mWon}}
        <div id="crane">
            <div id="craneCabin"></div>
            <div id="craneBase"></div>
            <div id="craneArm" :style="'transform: rotate('+armRotation+'deg)'"></div>
            <div id="craneCable"
                :style="'transform: translateX('+Number(Math.cos(armRotation*Math.PI/180)*300).toFixed(2)+'px) translateY('+Number(Math.sin(armRotation*Math.PI/180)*300).toFixed(2)+'px); height: '+cableLength+'px;'">
            </div>
        </div>
        <div class="base one"></div>
        <div class="platform one"></div>
        <div class="box"
            :style="mStarted?'transform: translateX('+Number(Math.cos(armRotation*Math.PI/180)*300-130).toFixed(2)+'px) translateY('+Number(cableLength-240+Math.sin(armRotation*Math.PI/180)*300).toFixed(2)+'px);':''">
        </div>
        <div class="won" v-if="mWon"></div>
    </div>
    <script src='main.js'></script>
</body>

</html>